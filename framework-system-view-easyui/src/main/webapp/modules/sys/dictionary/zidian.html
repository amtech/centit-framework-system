<div class="easyui-panel search-body" cls="search" style="width: 100%;">
	<form>
		<div class="search-item">
			<label id="d@encoding">编码</label>
			<input type="text" class="easyui-textbox" name="s_catalogCode" />
		</div>
		
		<div class="search-item">
			<label id="d@name">名称</label>
			<input type="text" class="easyui-textbox" name="s_catalogName" />
		</div>
		
		<div class="search-item">
			<label>业务模块</label>
			<input type="text" class="easyui-combotree" name="s_optId" target="optinfo" />
		</div>
			
		<a class="easyui-linkbutton btn-search" iconCls="icon-search"><p  id="d@btn.search">搜索</p></a>
	</form>
</div>
 
<table url="bussi/zidian?_search=true&field=catalogCode&field=catalogName&field=catalogDesc&field=catalogStyle&field=catalogType"
	idField="catalogCode"
	sortName="catalogCode"
	sortOrder="catalogCode"
	search=".search"
	toolbar=".temp-toolbar"
	layoutH=".search">
	<thead data-options="frozen:true">
		<tr>
			<th data-options="field:'catalogCode'" width="150" sortable="true">编码</th>
			<th data-options="field:'catalogName'" width="150" sortable="true">名称</th>
			<th data-options="field:'catalogStyle'" width="80" sortable="true" align="center"
				format="Dictionary:CatalogStyle">字典类型</th>
			<th data-options="field:'catalogType'" width="80" sortable="true" align="center"
				format="Dictionary:CatalogType">字典结构</th>
		</tr>
	</thead>
	<thead>
		<tr>
			<th  data-options="field:'catalogDesc'" width="600">描述</th>
		</tr>
	</thead>
</table>
 
<div class="temp-toolbar">
	<a  iconCls="icon-add" href="modules/basedata/zidian/zidian-info.html" trigger="none"
		target="dialog" rel="zidian_add" title="新增数据字典" width="640" height="480" btnValue="添加"><p id="c@link.add">新增</p></a>
		
	<a  iconCls="icon-edit" href="modules/basedata/zidian/zidian-info.html" trigger="single"
		target="dialog" rel="zidian_edit" title="编辑 {{catalogName}} 数据字典" width="640" height="480" btnValue="更新"><p id="c@link.edit">编辑</p></a>
		
	<hr>
	
	<a iconCls="icon-base icon-base-gear" href="modules/basedata/zidian/zidian-item.html" trigger="single"
		target="dialog" rel="zidian_item" id="zidian_item" title="编辑【 {{catalogName}}】字典明细" width="960" height="480" btnValue="确认"><p  id="d@link.dictionaryDetail">字典明细</p></a>
		
	<hr>
	
	<a iconCls="icon-base icon-base-ban" trigger="single"
		target="confirm" rel="zidian_remove" title="是否确定删除 {{catalogName}}？"><p  id="d@btn.delete">删除</p></a>
</div>

<script>
	$.parser.onComplete = function(panel) {
		
		$.parser.onComplete = $.noop;
		requirejs([
				   'core/filter/filter.dictionary',
		           'modules/basedata/zidian/ctrl/zidian',
		          ], function(FilterDictionary, Dictionary) {
			 
			FilterDictionary.add(['CatalogStyle', 'CatalogType']).then(function() {
				new Dictionary('dictionary', panel).load(panel);
			}); 
		});
	};

</script>
